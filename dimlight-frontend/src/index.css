@import url("https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap");
@import url('https://fonts.googleapis.com/css2?family=Forum&family=Space+Grotesk:wght@300..700&display=swap');
@import "tailwindcss";
@import "tw-animate-css";

/* ===================== CUSTOM SCROLLBAR ===================== */
@layer base {
  /* 1. Webkit Browsers (Chrome, Safari, Edge, Opera) */
  ::-webkit-scrollbar {
    width: 8px;  /* Width of vertical scrollbar */
    height: 8px; /* Height of horizontal scrollbar */
  }

  ::-webkit-scrollbar-track {
    background: transparent; /* See-through track */
  }

  ::-webkit-scrollbar-thumb {
    background-color: rgb(var(--surface)); /* Subtle dark grey by default */
    border-radius: 9999px; /* Fully rounded pill shape */
    border: 2px solid rgb(var(--background)); /* Creates a 'padding' effect */
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: rgb(var(--primary) / 0.6); /* Glows blue on hover */
  }

  /* 2. Firefox (Standard Property) */
  html {
    scrollbar-width: thin; /* Slim scrollbar */
    scrollbar-color: rgb(var(--surface)) rgb(var(--background));
  }
}

/* --- LENIS SMOOTH SCROLL FIXES --- */
html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* ===================== GLOBAL FONT & VARIABLES ===================== */
:root {
  --font-family: "Space Grotesk", "DM Sans", sans-serif;

  --background: 10 11 12;
  --surface: 19 19 21;
  --text: 240 244 250;
  --text-muted: 160 170 190;
  --border: 255 255 255 / 0.12;

  --primary: 12, 175, 235;
  --primary-light: 159 122 255;
  --secondary: 205, 242, 255;
  --accent: 251 191 36;
  --success: 34 211 157;
  --warning: 251 191 36;
  --error: 248 113 113;
}

/* ===================== THEME TOKENS ===================== */
@theme {
  --font-sans: var(--font-family);

  /* ❌ removed <alpha-value> — CSS-safe values only */
  --color-background: rgb(var(--background));
  --color-surface: rgb(var(--surface));
  --color-text: rgb(var(--text));
  --color-textMuted: rgb(var(--text-muted));
  --color-border: rgb(var(--border));

  --color-primary: rgb(var(--primary));
  --color-primaryLight: rgb(var(--primary-light));
  --color-secondary: rgb(var(--secondary));
  --color-accent: rgb(var(--accent));
  --color-success: rgb(var(--success));
  --color-warning: rgb(var(--warning));
  --color-error: rgb(var(--error));

  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-xxl: 3rem;

  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;

  --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.1);
  --shadow-cardStrong: 0 8px 24px rgba(0, 0, 0, 0.15);
}

/* ===================== LIGHT MODE ===================== */
.light {
  --background: 248 250 252;
  --surface: 255 255 255;
  --text: 17 24 39;
  --text-muted: 107 114 128;
  --border: 0 0 0 / 0.08;
}
@layer base {
  body {
    font-family: var(--font-family);
    @apply bg-background
           text-text
           antialiased;
  }
}

/* ===================== COMPONENTS ===================== */
@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center
           rounded-md font-medium
           transition-all duration-200
           px-lg py-sm
           bg-primary text-white
           hover:bg-primary/80;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center
           rounded-md font-medium
           transition-all duration-200
           px-lg py-sm
           border border-border text-text
           hover:bg-surface;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center
           rounded-md font-medium
           transition-all duration-200
           px-lg py-sm
           border border-border text-text
           hover:bg-surface;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center
           rounded-md font-medium
           transition-all duration-200
           px-lg py-sm
           bg-error text-white
           hover:bg-error/80;
  }

  .btn-disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
  }

  .card {
    @apply bg-surface rounded-lg
           border border-border
           shadow-card
           p-lg;
  }

  .card-hover {
    @apply transition-shadow duration-200
           hover:shadow-cardStrong;
  }

  .input {
    @apply w-full bg-surface
           border border-border
           rounded-md p-sm
           focus:border-primary
           focus:ring-2 focus:ring-primaryLight;
  }

  .input-error {
    @apply border-error text-error;
  }

  .section-title,
  .page-title {
    @apply text-xl font-semibold mb-md;
  }

  .skeleton {
    @apply bg-surface rounded-md animate-pulse;
  }

  .skeleton-text {
    @apply h-4 w-3/4
           bg-surface rounded-md animate-pulse;
  }

  .skeleton-card {
    @apply h-40 w-full
           bg-surface rounded-md animate-pulse;
  }

  .toast {
    @apply fixed top-5 right-5
           bg-surface border border-border
           shadow-card
           text-text
           px-lg py-sm rounded-md;
  }

  .modal-backdrop {
    @apply fixed inset-0
           bg-black/50 backdrop-blur-sm;
  }

  .modal {
    @apply bg-surface
           max-w-lg mx-auto mt-20
           p-xl rounded-lg
           shadow-card;
  }
}

/* ===================== UTILITIES ===================== */
@layer utilities {
  .shimmer {
    @apply relative overflow-hidden bg-surface;
  }

  .shimmer::after {
    content: "";
    @apply absolute inset-0
           bg-linear-to-r
           from-transparent via-white/30 to-transparent;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    from {
      transform: translateX(-150%);
    }
    to {
      transform: translateX(150%);
    }
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px; /* Slightly thinner for internal containers */
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgb(var(--border));
    border-radius: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgb(var(--text-muted));
  }
}
